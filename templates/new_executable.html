{% extends "base.html" %}
{% block title %}Add Executable{% endblock %}
{% block content %}
<div class="card app-card shadow-sm" style="max-width: 680px; margin: 0 auto;">
    <div class="card-body">
        <h2 class="mb-2">Generate New Executable</h2>
        <p class="muted mb-4">Define release windows, expiry policies, and distribution endpoint metadata.</p>
        <form method="post" class="row g-3">
            <div class="col-12">
                <label for="name" class="form-label">Executable name</label>
                <input id="name" name="name" class="form-control" required maxlength="120">
            </div>

            <div class="col-md-6">
                <label for="exe_type" class="form-label">Executable type</label>
                <select id="exe_type" name="exe_type" class="form-select" required>
                    {% for option in exe_types %}
                        <option value="{{ option }}">{{ option.title() }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-md-6">
                <label for="server_url" class="form-label">Server URL (optional)</label>
                <input id="server_url" name="server_url" class="form-control" placeholder="https://example.com/api" maxlength="255">
            </div>

            <div class="col-md-6">
                <label for="available_from" class="form-label">Available from (YYYY-MM-DD)</label>
                <input id="available_from" name="available_from" class="form-control" placeholder="2025-01-01" pattern="\d{4}-\d{2}-\d{2}">
            </div>

            <div class="col-md-6">
                <label for="expiry_date" class="form-label">Expiry date (YYYY-MM-DD)</label>
                <input id="expiry_date" name="expiry_date" class="form-control" placeholder="2025-12-31" pattern="\d{4}-\d{2}-\d{2}">
            </div>

            <div class="col-12 d-flex flex-column flex-md-row gap-3 mt-2">
                <button type="submit" class="btn btn-primary flex-fill">Generate</button>
                <a class="btn btn-outline-secondary flex-fill" href="{{ url_for('dashboard.dashboard') }}">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
